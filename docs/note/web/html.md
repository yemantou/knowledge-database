---
title: HTML复习
autoGroup-1: HTML
sidebarDepth: 0
autoSort: 999
---

## HTML复习
[HTML 考点](https://juejin.cn/post/6844904180943945742)

### 如何理解 HTML 语义化？
- 让人更容易读懂（增加代码可读性）。
- 让搜索引擎更容易读懂，有助于爬虫抓取更多的有效信息，爬虫依赖于标签来确定上下文和各个关键字的权重（SEO）。
- 在没有 CSS 样式下，页面也能呈现出很好地内容结构、代码结构。


### script 标签中 defer 和 async 的区别？
如果有多个defer脚本，会按照它们在页面出现的顺序加载，而多个async脚本是不能保证加载顺序的。  
HTML 三类 script：
- \<script src='xxx'>\</script>     
  **会阻塞浏览器对 HTML 的解析，只有下载好并执行完脚本才会继续解析 HTML。**    
  如果获取 JS 脚本的网络请求迟迟得不到响应，或者 JS 脚本执行时间过长，都会导致白屏，用户看不到页面内容。 
- \<script src='xxx' async>\</script>    
  **解析 HTML 过程中进行脚本的异步下载，下载成功立马执行，如果下载成功后 HTML 还没有解析完成，就会阻断 HTML 的解析。**        
   async 是不可控的，因为执行时间不确定，如果在异步 JS 脚本中获取某个 DOM 元素，有可能获取到也有可能获取不到。而且如果存在多个 async 的时候，它们之间的执行顺序也不确定，完全依赖于网络传输结果，谁先到执行谁。
- \<script src='xxx' defer>\</script>    
  解析 HTML 过程中进行脚本的异步下载，如果下载成功后 HTML 还没有解析完成，浏览器不会暂停解析并执行 JS 代码，而是等待 HTML 解析完毕再执行 JS 代码。   

图示：
![三类 script 的区别](@assets/img/note-web/script.png)

::: tip 参考文章
[图解 script 标签中的 async 和 defer 属性](https://juejin.cn/post/6894629999215640583)
:::


### 从浏览器地址栏输入 url 到请求返回发生了什么？
[从输入url到页面展示发生了什么](./browser-http.md)
1. **输入url后，浏览器会解析出协议、主机、端口、路径等信息，并构造一个HTTP请求**    
   发送http请求前，会根据请求头的 expires 和cache-Control 判断是否命中强缓存；    
   若没有命中则发起请求，根据请求头的 Last-Modified 和 ETag 判断是否命中协商缓存；   
   

2. **DNS 域名解析：将域名解析成 IP 地址**    
   中间服务器为本地域名服务器         
   ![DNS 域名解析过程](@assets/img/note-web/dns.png)
   DNS的优化与应用：    
   - DNS缓存 DNS存在着多级缓存，从离浏览器的距离排序的话，有以下几种: 浏览器缓存，系统缓存，路由器缓存，IPS服务器缓存，根域名服务器缓存，顶级域名服务器缓存，主域名服务器缓存。   
   - DNS负载均衡(DNS重定向) DNS负载均衡技术的实现原理是在DNS服务器中为同一个主机名配置多个IP地址，在应答DNS查询时， DNS服务器对每个查询将以DNS文件中主机记录的IP地址按顺序返回不同的解析结果，将客户端的访问 引导到不同的机器上去，
     使得不同的客户 端访问不同的服务器，从而达到负载均衡的目的。    
     大家耳熟能详的CDN(Content Delivery Network)就是利用DNS的重定向技术，DNS服务器会返回一个跟 用户最接近的点的IP地址给用户，CDN节点的服务器负责响应用户的请求，提供所需的内容。  
   - dns-prefetch DNS Prefetch 是一种 DNS 预解析技术。当你浏览网页时，浏览器会在加载网页时对网页中的域名进行解析缓存，这样在你单击当前网页中的连接时就无需进行 DNS 的解析，减少用户等待时间，提高用户体验。

3. **TCP 连接：TCP 三次握手**   
   - 第一次握手，由浏览器发起，告诉服务器我要发送请求了    
   - 第二次握手，由服务器发起，告诉浏览器我准备接受了，你赶紧发送吧   
   - 第三次握手，由浏览器发送，告诉服务器，我马上就发了，准备接受吧    
   
   为什么需要三次握手：    
   其实这是由 TCP 的自身特点可靠传输决定的。客户端和服务端要进行可靠传输，那么就需要确认双方的接收和发送能力。第一次握手可以确认客服端的发送能力，第二次握手，确认了服务端的发送能力和接收能力，所以第三次握手才可以确认客户端的接收能力。不然容易出现丢包的现象。

4. **发送 HTTP 请求** 
      
5. **服务器处理请求并返回 HTTP 报文**    
   
6. **浏览器解析渲染页面**    
   
7. **断开连接：TCP 四次挥手**

::: tip 参考文章
[从URL输入到页面展现到底发生什么？](https://juejin.cn/post/6844903784229896199)     
[从输入URL开始建立前端知识体系](https://juejin.cn/post/6935232082482298911)
:::
