(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{337:function(t,a,r){"use strict";r.r(a);var s=r(15),v=Object(s.a)({},(function(){var t=this,a=t.$createElement,r=t._self._c||a;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("h1",{attrs:{id:"跨域"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#跨域"}},[t._v("#")]),t._v(" 跨域")]),t._v(" "),r("div",{staticClass:"custom-block tip"},[r("p",{staticClass:"custom-block-title"},[t._v("参考文章")]),t._v(" "),r("p",[r("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/149734572?from_voters_page=true",target:"_blank",rel:"noopener noreferrer"}},[t._v("聊聊跨域的原理与解决方法"),r("OutboundLink")],1)])]),t._v(" "),r("p",[t._v("跨域，是指浏览器不能执行其它网站的脚本。它是由浏览器的同源策略造成的，是浏览器对javascript实施的安全限制。")]),t._v(" "),r("p",[t._v("所谓同源，就是域名、协议、端口均相同。")]),t._v(" "),r("h2",{attrs:{id:"cors"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#cors"}},[t._v("#")]),t._v(" CORS")]),t._v(" "),r("p",[t._v("CORS的基本思想就是使用额外的HTTP头部让浏览器与服务器进行沟通，从而决定是否接受跨域请求。")]),t._v(" "),r("h2",{attrs:{id:"跨域的解决办法"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#跨域的解决办法"}},[t._v("#")]),t._v(" 跨域的解决办法")]),t._v(" "),r("p",[t._v("遇到跨域的报错，可以分别从客户端和服务端去解决。")]),t._v(" "),r("h3",{attrs:{id:"客户端"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#客户端"}},[t._v("#")]),t._v(" 客户端")]),t._v(" "),r("p",[t._v("跨域的判断是在浏览器进行的，服务器只是根据客户端的请求做出正常的响应，服务端不对跨域做任何判断。因此如果禁用了浏览器的跨域检查，使浏览器不再对比Origin是否被服务器允许，即可发出正常的请求。"),r("br"),t._v("\n只在开发调试的过程中使用，如给chrome浏览器设置--disable-web-security参数。")]),t._v(" "),r("h3",{attrs:{id:"服务端"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#服务端"}},[t._v("#")]),t._v(" 服务端")]),t._v(" "),r("ol",[r("li",[t._v("代理转发"),r("br"),t._v("\n通过代理服务器代理转发，代理服务器和H5资源服务器放在同一个域名下，接口请求全走代理服务器。")]),t._v(" "),r("li",[t._v("配置CORS"),r("br"),t._v("\n在目标服务器上配置CORS响应头，这样浏览器经过对比判断之后，就可以发起正常的访问。")])]),t._v(" "),r("h2",{attrs:{id:"总结"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[t._v("#")]),t._v(" 总结")]),t._v(" "),r("ul",[r("li",[t._v("跨域是由浏览器的同源策略造成的，所谓同源，即域名、协议、端口均相同。")]),t._v(" "),r("li",[t._v("CORS（跨来源资源共享），通过添加HTTP头信息，使浏览器判断是否可以发起跨域访问。")]),t._v(" "),r("li",[r("strong",[t._v("浏览器将跨域请求分为两类：简单请求和非简单请求。简单请求采取先请求后判断的方式，非简单请求采取预检请求的方式判断是否允许跨域访问。")])]),t._v(" "),r("li",[t._v("解决跨域通常采用服务端代理转发和配置CORS两种方式。")])])])}),[],!1,null,null,null);a.default=v.exports}}]);